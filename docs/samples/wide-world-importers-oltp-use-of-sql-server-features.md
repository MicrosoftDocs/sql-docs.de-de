---
title: Verwendung von SQL Server Features und Funktionen | Microsoft-Dokumentation
description: Erfahren Sie mehr über SQL Server Features und Funktionen und deren Verwendung in der wideworldimporters-Beispieldatenbank.
ms.prod: sql
ms.prod_service: sql
ms.technology: samples
ms.custom: ''
ms.date: 01/21/2017
ms.reviewer: ''
ms.topic: conceptual
ms.assetid: 06f89721-8478-4abc-8ada-e9c73b08bf51
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 6e20d90d91badcd0961ab03e219bbf6e9a8ae2c8
ms.sourcegitcommit: 917df4ffd22e4a229af7dc481dcce3ebba0aa4d7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 02/10/2021
ms.locfileid: "100354062"
---
# <a name="use-of-sql-server-features-and-capabilities"></a>Verwendung von SQL Server Features und Funktionen

[!INCLUDE [SQL Server Azure SQL Database](../includes/applies-to-version/sql-asdb.md)]

Wideworldimporters verwenden SQL Server Features und Funktionen in der OLTP-Datenbank.

Wideworldimporters ist so konzipiert, dass viele der wichtigsten Features von SQL Server vorgestellt werden, einschließlich der neuesten Features, die in SQL Server 2016 eingeführt wurden. In der folgenden Tabelle sind die Features und Funktionen von SQL Server aufgeführt. Jede Zeile enthält auch eine Beschreibung, wie die Funktionen in wideworldimporters verwendet werden.  
&nbsp;

|SQL Server Feature oder Funktion|Verwendung in wideworldimporters|
|:-------------------------------|:------------------------|
|Temporale Tabellen|Es gibt viele Temporale Tabellen, einschließlich aller Nachschlage Tabellen und Haupt Entitäten, z. b. stockitems, Kunden und Lieferanten. Mithilfe Temporaler Tabellen kann der Verlauf dieser Entitäten bequem nachverfolgt werden.|
|AJAX-Aufrufe für JSON|Die Anwendung verwendet häufig AJAX-Aufrufe, um diese Tabellen abzufragen: Personen, Kunden, Lieferanten und stockitems. Die Aufrufe geben die Daten im JSON-Format zurück. Informationen hierzu finden Sie beispielsweise in der gespeicherten Prozedur `Website.SearchForCustomers` .|
|JSON-Eigenschaft/Wert-Taschen|Eine Reihe von Tabellen enthält Spalten, die JSON-Daten enthalten, um die relationalen Daten in der Tabelle zu erweitern. Beispielsweise `Application.SystemParameters` verfügt über eine-Spalte für Anwendungseinstellungen und `Application.People` eine-Spalte, um Benutzereinstellungen zu erfassen. Diese Tabellen verwenden eine- `nvarchar(max)` Spalte, um die JSON-Daten zusammen mit einer Check-Einschränkung aufzuzeichnen, die die integrierte-Funktion verwendet `ISJSON` , um sicherzustellen, dass die Spaltenwerte gültige JSON-Werte sind.|
|Sicherheit auf Zeilenebene (row-level security; RLS)|Sicherheit auf Zeilenebene (RLS) wird verwendet, um den Zugriff auf die Customers-Tabelle basierend auf der Rollen Mitgliedschaft einzuschränken. Jedes Vertriebsgebiet hat eine Rolle und einen Benutzer. Wenn Sie ein RLS-Zugriffs Limit in Aktion sehen möchten, verwenden Sie das entsprechende Skript in sample-script.zip, das Teil der- [Version des](https://go.microsoft.com/fwlink/?LinkID=800630)Beispiels ist.|
|Operative Echtzeitanalyse|(Vollversion der Datenbank) Die kerntransaktions Tabellen `Sales.InvoiceLines` und `Sales.OrderLines` verfügen beide über einen nicht gruppierten columnstore--Index, um die effiziente Ausführung analytischer Abfragen in der Transaktionsdatenbank mit minimalen Auswirkungen auf die Arbeitsauslastung zu unterstützen. Das Ausführen von Transaktionen und Analysen in derselben Datenbank wird auch als [hybride transaktionale/analytische Verarbeitung (HTAP)](https://wikipedia.org/wiki/Hybrid_Transactional/Analytical_Processing_(HTAP))bezeichnet. Um dies in Aktion zu sehen, verwenden Sie das entsprechende Skript in sample-script.zip, das Teil der- [Version des](https://go.microsoft.com/fwlink/?LinkID=800630)Beispiels ist.|
|PolyBase|Um diese polybase in Aktion zu sehen, verwenden Sie eine externe Tabelle mit einem öffentlichen DataSet, das im Azure-BLOB-Speicher gehostet wird, indem Sie das entsprechende Skript in sample-script.zip verwenden, das Teil der- [Version des](https://go.microsoft.com/fwlink/?LinkID=800630)Beispiels ist.|
|In-Memory-OLTP|(Vollversion der Datenbank) Die Tabellentypen werden alle Speicher optimiert, sodass Tabellenwert Parameter (TVPs) alle von der Speicher Optimierung profitieren.<br/><br/>Die beiden Überwachungs Tabellen, `Warehouse.VehicleTemperatures` und `Warehouse.ColdRoomTemperatures` , sind Speicher optimiert. Die Speicher Optimierung ermöglicht, dass die Tabelle coldroomtemperaturen mit höherer Geschwindigkeit aufgefüllt wird als eine herkömmliche Datenträger basierte Tabelle. Die Tabelle "vehicleextensions" enthält die JSON-Nutzlast und eignet sich für die Erweiterung in IOT-Szenarien. Die Tabelle vehicletemperaturen eignet sich auch für Szenarien, die eventhubs, Stream Analytics und Power BI betreffen.<br/><br/>Die gespeicherte Prozedur `Website.RecordColdRoomTemperatures` wird System intern kompiliert, um die Leistung beim Aufzeichnen der Temperaturen für kalte Räume weiter zu verbessern.<br/><br/>Ein Beispiel für In-Memory OLTP in Aktion finden Sie unter der Arbeits Auslastungs Treiber für Fahrzeug Standorte in workload-drivers.zip, der Teil der- [Version des](https://go.microsoft.com/fwlink/?LinkID=800630)Beispiels ist.|
|Gruppierter Columnstore-Index|(Vollversion der Datenbank) In der Tabelle wird `Warehouse.StockItemTransactions` ein gruppierter columnstore--Index verwendet. Es wird davon ausgegangen, dass die Anzahl der Zeilen in dieser Tabelle sehr groß wird und der gruppierte columnstore--Index die Größe der Tabelle auf dem Datenträger erheblich reduziert und die Abfrageleistung verbessert. Die Änderung an dieser Tabelle ist nur Einfügevorgänge. für diese Tabelle ist kein Update/Delete in der Online-Arbeitsauslastung vorhanden, und der gruppierte columnstore--Index eignet sich gut für einfügeworkloads.|
|Dynamische Datenmaskierung|Im Datenbankschema wurde die Daten Maskierung auf die für Lieferanten gespeicherten Bank Details in der Tabelle angewendet `Purchasing.Suppliers` . Nicht-Administrator Mitarbeiter haben keinen Zugriff auf diese Informationen.|
|Always Encrypted|Eine Demo für Always Encrypted ist in der herunterladbaren samples.zip enthalten, die Teil der [Version des](https://go.microsoft.com/fwlink/?LinkID=800630)Beispiels ist. Die Demo erstellt einen Verschlüsselungsschlüssel, eine Tabelle mit Verschlüsselung für sensible Daten und eine kleine Beispielanwendung, mit der Daten in die Tabelle eingefügt werden.|
|Stretch Database|Die `Warehouse.ColdRoomTemperatures` Tabelle wurde als Temporale Tabelle implementiert und ist in der Vollversion der Beispieldatenbank Speicher optimiert. Die Archiv Tabelle ist Datenträger basiert und kann auf Azure gestreckten werden.|
|Volltextindizes|Volltextindizes verbessern die Suche nach Personen, Kunden und stockitems. Die Indizes werden nur dann auf Abfragen angewendet, wenn die Volltextindizierung auf der SQL Server-Instanz installiert ist. Eine nicht persistente berechnete Spalte wird verwendet, um die Daten zu erstellen, die in der stockitems-Tabelle voll Text indiziert werden.<br/><br/>`CONCAT` wird zum Verketten der Felder verwendet, um die Volltextindizierung von searchdata zu erstellen.<br/>Um die Verwendung von Volltextindizes im Beispiel zu aktivieren, führen Sie die folgende Anweisung in der-Datenbank aus:<br/><br/>`EXECUTE [Application].[Configuration_ConfigureFullTextIndexing]`<br/><br/>Mit der Prozedur wird ein standardmäßiger voll Text Katalog erstellt, wenn noch keiner vorhanden ist. Anschließend werden die Such Ansichten durch volltextversionen dieser Sichten ersetzt.)<br/><br/>Beachten Sie, dass bei der Verwendung von Volltextindizes in SQL Server während der Installation die Option Full-Text ausgewählt werden muss. Für Azure SQL-Datenbank ist keine spezifische Konfiguration erforderlich, um Volltextindizes zu aktivieren.|
|Indizierte persistente berechnete Spalten|Indizierte persistente berechnete Spalten, die in suppliertransactions und customertransactions verwendet werden.|
|Check-Einschränkungen|Eine relativ komplexe Check-Einschränkung befindet sich in `Sales.SpecialDeals` . Dadurch wird sichergestellt, dass nur ein und nur eine von diszählwert, disrattprozentsatz und UnitPrice konfiguriert wird.|
|UNIQUE-Einschränkungen|Eine m:n-Konstruktion (und UNIQUE-Einschränkungen) werden für eingerichtet `Warehouse.StockItemStockGroups` .|
|Tabellenpartitionierung|(Vollversion der Datenbank) Die Tabellen `Sales.CustomerTransactions` und `Purchasing.SupplierTransactions` sind beide nach Jahr partitioniert, wobei die Partitions Funktion `PF_TransactionDate` und das Partitionsschema verwendet werden `PS_TransactionDate` . Die Partitionierung wird verwendet, um die Verwaltbarkeit von großen Tabellen zu verbessern.|
|Auflisten der Verarbeitung|Ein Beispiel für einen Tabellentyp `Website.OrderIDList` wird bereitgestellt. Sie wird in einem Beispiel Verfahren verwendet `Website.InvoiceCustomerOrders` . Die Prozedur verwendet allgemeine Tabellen Ausdrücke (CTEs), try/catch, JSON_MODIFY, XACT_ABORT, NOCOUNT, Throw und XACT_STATE, um die Möglichkeit zu veranschaulichen, eine Liste von Aufträgen und nicht nur eine einzige Bestellung zu verarbeiten, um Roundtrips zwischen der Anwendung und der Datenbank-Engine zu minimieren.|
|Gzip-Komprimierung|In der- `Warehouse.VehicleTemperature` Sicht enthält die Tabelle vollständige Sensordaten. Wenn diese Daten jedoch mehr als ein paar Monate alt sind, werden Sie komprimiert, um Speicherplatz zu sparen. Die Funktion "komprimieren" verwendet gzip-Komprimierung.<br/><br/>Die Sicht `Website.VehicleTemperatures` verwendet die Funktion "Debug", wenn zuvor komprimierte Daten abgerufen werden.|
|Abfragespeicher|Abfragespeicher für die Datenbank aktiviert ist. Nachdem Sie einige Abfragen ausgeführt haben, führen Sie die folgenden Schritte aus:<br/><br/>1. Öffnen Sie die Datenbank in Management Studio.<br/>2. Öffnen Sie den Knoten Abfragespeicher, der sich unter der-Datenbank befindet.<br/>3. Öffnen Sie die *Abfragen mit dem höchsten Ressourcenverbrauch*. Sehen Sie sich die Abfrage Ausführungen an, und sehen Sie sich die Pläne für die soeben ausgeführten Abfragen an.|
|STRING_SPLIT|Die `DeliveryInstructions` -Spalte in der-Tabelle `Sales.Invoices` verfügt über einen durch Trennzeichen getrennten Wert, der verwendet werden kann, um STRING_SPLIT zu veranschaulichen.|
|Audit|SQL Server Überwachung kann für diese Beispieldatenbank aktiviert werden, indem die folgende Anweisung in der-Datenbank ausgeführt wird:<br/><br/>`EXECUTE [Application].[Configuration_ApplyAuditing]`<br/><br/>In Azure SQL-Datenbank wird die Überwachung über das [Azure-Portal](https://portal.azure.com/)aktiviert.<br/><br/>Sicherheitsvorgänge im Zusammenhang mit Anmeldungen, Rollen und Berechtigungen werden auf allen Systemen protokolliert, bei denen die Überwachung aktiviert ist (einschließlich der Standard Edition-Systeme). Die Überwachung wird an das Anwendungsprotokoll weitergeleitet, da diese auf allen Systemen verfügbar ist und keine zusätzlichen Berechtigungen erfordert. Eine Warnung wird ausgegeben, dass Sie für eine höhere Sicherheit an das Sicherheitsprotokoll oder an eine Datei in einem sicheren Ordner umgeleitet werden soll. Es wird ein Link bereitgestellt, um die erforderliche zusätzliche Konfiguration zu beschreiben.<br/><br/>Für Evaluierungs-/Entwickler-/unternehmenseditions-Systeme wird der Zugriff auf alle finanziellen Transaktionsdaten überwacht.|
| &nbsp; | &nbsp; |
